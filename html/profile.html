<div class="container vh-100 d-flex align-items-center">
  <div class="card shadow-lg" style="width: 100%; height: 90%; display: flex; flex-direction: row; border-radius: 15px;">
    <!-- Sidebar -->
    <div class="p-4 bg-dark border-end" style="width: 250px; border-radius: 15px 0 0 15px;">
      <ul class="list-unstyled">
        <li class="mb-3 pointer py-2 px-3" ng-click="selectedSection = 'personal'" 
            ng-class="{'bg-warning text-dark rounded-3': selectedSection === 'personal'}">
          <i class="fa-solid fa-user me-2"></i> Személyes adatok
        </li>
        <li class="mb-3 pointer py-2 px-3" ng-click="selectedSection = 'schedule'" 
            ng-class="{'bg-warning text-dark rounded-3': selectedSection === 'schedule'}">
          <i class="fa-solid fa-clock me-2"></i> Időpontfoglalás
        </li>
        <li class="mb-3 pointer py-2 px-3" ng-click="selectedSection = 'myBookings'" 
            ng-class="{'bg-warning text-dark rounded-3': selectedSection === 'myBookings'}">
          <i class="fa-solid fa-calendar-check me-2"></i> Foglalásaim
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="p-4" style="flex-grow: 1;">
      <!-- Időpontfoglalás -->
      <div ng-if="selectedSection === 'schedule'">
        <h3>Időpontfoglalás</h3>

        <!-- Csomagok -->
        <div class="mb-4">
          <label for="package" class="form-label">Válassz egy csomagot:</label>
          <select 
            id="package" 
            class="form-select" 
            ng-model="selectedPackage">
            <option value="" disabled selected>Válassz egy csomagot</option>
            <option ng-repeat="package in packages" value="{{ package.id }}">
              {{ package.name }} - {{ package.price }} Ft
            </option>
          </select>
        </div>

        <!-- Naptár -->
        <div class="mb-3">
          <label for="date">Válassz egy dátumot:</label>
          <input 
          id="date" 
          type="date" 
          class="form-control" 
          ng-model="selectedDate" 
          ng-change="logDate()">
        
        <p>Kiválasztott dátum: {{ selectedDate }}</p>
        </div>

        <!-- Időpontok -->
        <div ng-if="timeSlots.length > 0">
          <h4>Elérhető időpontok:</h4>
          <div class="d-flex flex-wrap gap-2">
            <button
              ng-repeat="time in timeSlots"
              ng-click="selectTimeSlot(time)"
              class="btn"
              ng-class="{'btn-outline-primary': selectedTime !== time && !bookedSlots.includes(time), 
                        'btn-primary': selectedTime === time, 
                        'btn-danger': bookedSlots.includes(time)}"
              ng-disabled="bookedSlots.includes(time)">
              {{ time }}
            </button>
          </div>

          <!-- Foglalás gomb -->
          <div class="mt-4">
            <button 
              class="btn btn-success" 
              ng-disabled="!selectedTime || !selectedPackage" 
              ng-click="confirmAppointment()">
              Foglalás
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
